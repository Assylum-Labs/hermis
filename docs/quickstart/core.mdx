---
title: 'Core Quick Start'
description: 'Get started with the framework-agnostic core package'
---

## Overview

The `@hermis/solana-headless-core` package provides the fundamental building blocks for wallet management and Solana interactions. It's completely framework-agnostic and can be used with any JavaScript environment.

## Prerequisites

<Check>Node.js 16.x or higher</Check>
<Check>Basic understanding of Solana concepts</Check>
<Check>Familiarity with async/await</Check>

## Installation

<CodeGroup>
```bash npm
npm install @hermis/solana-headless-core @solana/web3.js
```

```bash yarn
yarn add @hermis/solana-headless-core @solana/web3.js
```

```bash pnpm
pnpm add @hermis/solana-headless-core @solana/web3.js
```
</CodeGroup>

## Step 1: Create a Connection

Connect to a Solana network using the `createConnection` utility:

```typescript
import { createConnection, WalletAdapterNetwork } from '@hermis/solana-headless-core';

// Connect to devnet
const connection = createConnection(WalletAdapterNetwork.Devnet);

// Or connect to mainnet
const mainnetConnection = createConnection(WalletAdapterNetwork.Mainnet);

// Or use a custom RPC endpoint
const customConnection = createConnection('https://my-custom-rpc.com');

// With commitment level
const confirmedConnection = createConnection(
  WalletAdapterNetwork.Mainnet,
  'confirmed'
);

// With full configuration
const configuredConnection = createConnection(
  WalletAdapterNetwork.Mainnet,
  {
    commitment: 'finalized',
    confirmTransactionInitialTimeout: 30000
  }
);
```

<Info>
  **Network Options**: Choose from `Mainnet`, `Devnet`, or `Testnet` based on your needs. Use devnet for testing to avoid real SOL costs.
</Info>

## Step 2: Wallet Creation & Management

Create or import wallets programmatically:

```typescript
import { createWallet, importWallet, exportWallet } from '@hermis/solana-headless-core';

// Create a new wallet
const newWallet = createWallet();
console.log('New wallet address:', newWallet.publicKey.toBase58());

// IMPORTANT: Store the secret key securely!
const secretKey = exportWallet(newWallet);

// Import an existing wallet from secret key
const existingSecretKey = new Uint8Array([/* your 64-byte secret key */]);
const importedWallet = importWallet(existingSecretKey);
```

<Warning>
  **Security Warning**: Never expose or commit secret keys! Store them securely using environment variables or secure key management systems.
</Warning>

## Step 3: Use the Wallet Manager

The `WalletManager` class provides a high-level interface for wallet operations:

```typescript
import { WalletManager, WalletAdapterNetwork } from '@hermis/solana-headless-core';

// Create a wallet manager for devnet
const manager = new WalletManager(WalletAdapterNetwork.Devnet);

// Connect to a wallet adapter (you'll get this from adapter-base package)
await manager.connect(adapter);

// Get wallet balance
const balance = await manager.getBalance();
console.log(`Balance: ${balance} SOL`);

// Get public key
const publicKey = manager.getPublicKey();
console.log('Public key:', publicKey?.toBase58());

// Check if connected
if (manager.isConnected()) {
  console.log('Wallet is connected!');
}

// Disconnect
await manager.disconnect();
```

## Step 4: Sign and Send Transactions

Perform transaction operations:

```typescript
import {
  signTransaction,
  sendTransaction,
  signMessage
} from '@hermis/solana-headless-core';
import { Transaction, SystemProgram, LAMPORTS_PER_SOL, PublicKey } from '@solana/web3.js';

// Create a transaction
const transaction = new Transaction();
const recipientAddress = new PublicKey('recipient-public-key-here');

transaction.add(
  SystemProgram.transfer({
    fromPubkey: wallet.publicKey,
    toPubkey: recipientAddress,
    lamports: 0.1 * LAMPORTS_PER_SOL
  })
);

// Get recent blockhash
const { blockhash } = await connection.getLatestBlockhash();
transaction.recentBlockhash = blockhash;
transaction.feePayer = wallet.publicKey;

// Sign the transaction
const signedTransaction = await signTransaction(transaction, wallet);

// Send the transaction
const signature = await sendTransaction(connection, signedTransaction, wallet);
console.log('Transaction signature:', signature);

// Wait for confirmation
await connection.confirmTransaction(signature, 'confirmed');
console.log('Transaction confirmed!');
```

## Step 5: Sign Messages

Sign messages for authentication or verification:

```typescript
import { signMessage } from '@hermis/solana-headless-core';

const message = 'Sign in to MyDApp';

// Sign with wallet adapter
const signedMessage = await signMessage(message, adapter);
console.log('Signed message:', signedMessage);

// Verify the signature
import { PublicKey } from '@solana/web3.js';
import { sign } from 'tweetnacl';

const messageBytes = new TextEncoder().encode(message);
const isValid = sign.detached.verify(
  messageBytes,
  signedMessage,
  publicKey.toBytes()
);
console.log('Signature valid:', isValid);
```

## Complete Example

Here's a complete example putting it all together:

```typescript
import {
  createConnection,
  WalletManager,
  WalletAdapterNetwork,
  sendTransaction,
  signTransaction
} from '@hermis/solana-headless-core';
import { Transaction, SystemProgram, LAMPORTS_PER_SOL, PublicKey } from '@solana/web3.js';

class SolanaWalletApp {
  private manager: WalletManager;
  private connection: any;

  constructor() {
    // Initialize connection
    this.connection = createConnection(WalletAdapterNetwork.Devnet);

    // Initialize wallet manager
    this.manager = new WalletManager(WalletAdapterNetwork.Devnet);
  }

  async connect(adapter: any) {
    try {
      await this.manager.connect(adapter);
      console.log('Connected successfully!');
      console.log('Public key:', this.manager.getPublicKey()?.toBase58());

      // Get and display balance
      const balance = await this.manager.getBalance();
      console.log(`Balance: ${balance} SOL`);
    } catch (error) {
      console.error('Failed to connect:', error);
    }
  }

  async sendSol(recipientAddress: string, amount: number) {
    const publicKey = this.manager.getPublicKey();
    if (!publicKey) {
      throw new Error('Wallet not connected');
    }

    try {
      // Create transaction
      const transaction = new Transaction();
      const recipient = new PublicKey(recipientAddress);

      transaction.add(
        SystemProgram.transfer({
          fromPubkey: publicKey,
          toPubkey: recipient,
          lamports: amount * LAMPORTS_PER_SOL
        })
      );

      // Set recent blockhash
      const { blockhash } = await this.connection.getLatestBlockhash();
      transaction.recentBlockhash = blockhash;
      transaction.feePayer = publicKey;

      // Sign and send
      const signature = await sendTransaction(
        this.connection,
        transaction,
        this.manager
      );

      console.log('Transaction sent:', signature);

      // Wait for confirmation
      await this.connection.confirmTransaction(signature, 'confirmed');
      console.log('Transaction confirmed!');

      return signature;
    } catch (error) {
      console.error('Transaction failed:', error);
      throw error;
    }
  }

  async disconnect() {
    await this.manager.disconnect();
    console.log('Disconnected');
  }
}

// Usage
const app = new SolanaWalletApp();

// Connect with an adapter (from adapter-base package)
// await app.connect(phantomAdapter);

// Send SOL
// await app.sendSol('recipient-address', 0.1);

// Disconnect
// await app.disconnect();
```

## API Reference

### Connection Functions

<ResponseField name="createConnection" type="function">
  Creates a Solana RPC connection
  ```typescript
  createConnection(
    network: WalletAdapterNetwork | string,
    commitment?: Commitment | ConnectionConfig
  ): Connection
  ```
</ResponseField>

### Wallet Functions

<ResponseField name="createWallet" type="function">
  Creates a new Solana wallet
  ```typescript
  createWallet(): Keypair
  ```
</ResponseField>

<ResponseField name="importWallet" type="function">
  Imports a wallet from a secret key
  ```typescript
  importWallet(secretKey: Uint8Array): Keypair
  ```
</ResponseField>

<ResponseField name="exportWallet" type="function">
  Exports a wallet's secret key
  ```typescript
  exportWallet(wallet: Keypair): Uint8Array
  ```
</ResponseField>

### Transaction Functions

<ResponseField name="signTransaction" type="function">
  Signs a transaction
  ```typescript
  signTransaction(
    transaction: Transaction,
    wallet: Signer
  ): Promise<Transaction>
  ```
</ResponseField>

<ResponseField name="sendTransaction" type="function">
  Sends a signed transaction
  ```typescript
  sendTransaction(
    connection: Connection,
    transaction: Transaction,
    wallet: Signer
  ): Promise<string>
  ```
</ResponseField>

<ResponseField name="signMessage" type="function">
  Signs a message
  ```typescript
  signMessage(
    message: string,
    adapter: WalletAdapter
  ): Promise<Uint8Array>
  ```
</ResponseField>

## Best Practices

<AccordionGroup>
  <Accordion title="Secure Key Management">
    - Never hardcode secret keys in your code
    - Use environment variables for testing
    - Implement proper key management solutions for production
    - Consider using hardware wallets for large amounts
  </Accordion>

  <Accordion title="Error Handling">
    Always wrap wallet operations in try-catch blocks. Network issues and user rejections are common.
    ```typescript
    try {
      await manager.connect(adapter);
    } catch (error) {
      if (error.code === 4001) {
        console.log('User rejected the connection');
      } else {
        console.error('Connection failed:', error);
      }
    }
    ```
  </Accordion>

  <Accordion title="Transaction Confirmation">
    Always wait for transaction confirmation before assuming success:
    ```typescript
    const signature = await sendTransaction(connection, transaction, wallet);
    await connection.confirmTransaction(signature, 'confirmed');
    ```
  </Accordion>

  <Accordion title="Network Selection">
    Use devnet for development and testing to avoid spending real SOL:
    ```typescript
    const connection = createConnection(WalletAdapterNetwork.Devnet);
    ```
  </Accordion>
</AccordionGroup>

## What's Next?

<CardGroup cols={2}>
  <Card
    title="Adapter Base"
    icon="plug"
    href="/quickstart/adapter-base"
  >
    Learn about wallet adapters
  </Card>
  <Card
    title="API Reference"
    icon="code"
    href="/api-reference/core/overview"
  >
    Explore the complete API
  </Card>
  <Card
    title="Cookbook"
    icon="book-open"
    href="/cookbook/send-transaction"
  >
    See practical examples
  </Card>
  <Card
    title="Core Concepts"
    icon="book"
    href="/core-concepts/architecture"
  >
    Understand the architecture
  </Card>
</CardGroup>
