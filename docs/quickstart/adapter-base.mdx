---
title: 'Adapter Base Quick Start'
description: 'Get started with wallet adapters for framework-agnostic integration'
---

## Overview

The `@hermis/solana-headless-adapter-base` package provides a framework-agnostic wallet adapter implementation. It's perfect for vanilla JavaScript applications or when you need direct control over wallet adapter management.

## Prerequisites

<Check>Node.js 16.x or higher</Check>
<Check>Understanding of event-driven programming</Check>
<Check>Basic knowledge of Solana wallets</Check>

## Installation

<CodeGroup>
```bash npm
npm install @hermis/solana-headless-adapter-base @hermis/solana-headless-core @solana/web3.js @solana/wallet-adapter-wallets
```

```bash yarn
yarn add @hermis/solana-headless-adapter-base @hermis/solana-headless-core @solana/web3.js @solana/wallet-adapter-wallets
```

```bash pnpm
pnpm add @hermis/solana-headless-adapter-base @hermis/solana-headless-core @solana/web3.js @solana/wallet-adapter-wallets
```
</CodeGroup>

## Step 1: Initialize Wallet Adapters

Set up wallet adapters for your application:

```javascript
import {
  WalletAdapterManager,
  getStandardWalletAdapters,
  sortWalletAdapters
} from '@hermis/solana-headless-adapter-base';

import { WalletAdapterNetwork, createConnection } from '@hermis/solana-headless-core';

import { PhantomWalletAdapter } from '@solana/wallet-adapter-phantom';
import { SolflareWalletAdapter } from '@solana/wallet-adapter-solflare';
import { BackpackWalletAdapter } from '@solana/wallet-adapter-backpack';
import { CoinbaseWalletAdapter } from '@solana/wallet-adapter-coinbase';

// Create wallet adapter instances
const wallets = [
  new PhantomWalletAdapter(),
  new SolflareWalletAdapter(),
  new BackpackWalletAdapter(),
  new CoinbaseWalletAdapter(),
];

// Get all standard wallet adapters (includes Wallet Standard wallets)
const adapters = getStandardWalletAdapters(wallets);

// Create connection
const connection = createConnection(WalletAdapterNetwork.Devnet);

console.log(`Found ${adapters.length} wallet adapters`);
```

<Info>
  The `getStandardWalletAdapters` function automatically detects Wallet Standard compatible wallets in addition to the adapters you provide.
</Info>

## Step 2: Create Wallet Manager

Initialize the `WalletAdapterManager` to manage wallet connections:

```javascript
import { WalletAdapterManager } from '@hermis/solana-headless-adapter-base';

// Create the wallet manager
const walletManager = new WalletAdapterManager(adapters);

// Subscribe to wallet events
walletManager.on('connect', (publicKey) => {
  console.log('Connected to wallet:', publicKey.toBase58());
  updateUI('connected', publicKey.toBase58());
});

walletManager.on('disconnect', () => {
  console.log('Wallet disconnected');
  updateUI('disconnected');
});

walletManager.on('error', (error) => {
  console.error('Wallet error:', error);
  showError(error.message);
});

walletManager.on('walletChanged', (wallet) => {
  console.log('Wallet changed to:', wallet?.adapter.name);
});

console.log('Wallet manager initialized');
```

## Step 3: Connect to a Wallet

Select and connect to a wallet:

```javascript
// Find a specific wallet adapter
const phantomAdapter = adapters.find(adapter => adapter.name === 'Phantom');

if (phantomAdapter) {
  // Select the wallet
  walletManager.selectAdapter(phantomAdapter.name);

  // Connect to the wallet
  async function connectWallet() {
    try {
      const adapter = await walletManager.connect();
      if (adapter) {
        console.log('Successfully connected to', adapter.name);
        console.log('Public key:', adapter.publicKey?.toBase58());
      }
    } catch (error) {
      console.error('Connection error:', error);
      alert('Failed to connect to wallet');
    }
  }

  // Call the connect function
  connectWallet();
}
```

## Step 4: Build a Wallet Selector UI

Create a UI for users to select from available wallets:

```javascript
// Sort adapters by priority (installed wallets first)
const sortedAdapters = sortWalletAdapters(adapters);

// Create wallet selection UI
function createWalletSelector() {
  const container = document.getElementById('wallet-selector');

  sortedAdapters.forEach(adapter => {
    const button = document.createElement('button');
    button.textContent = adapter.name;
    button.className = 'wallet-option';

    // Add visual indicator for installed wallets
    if (adapter.readyState === 'Installed') {
      button.classList.add('installed');
      const badge = document.createElement('span');
      badge.textContent = '✓ Installed';
      badge.className = 'badge';
      button.appendChild(badge);
    }

    button.onclick = async () => {
      walletManager.selectAdapter(adapter.name);
      try {
        await walletManager.connect();
      } catch (error) {
        console.error('Connection failed:', error);
      }
    };

    container.appendChild(button);
  });
}

// Initialize the selector
createWalletSelector();
```

## Step 5: Filter Wallets by Ready State

Filter adapters based on their installation status:

```javascript
import { getWalletAdapters } from '@hermis/solana-headless-adapter-base';

// Get only installed wallets
const installed = getWalletAdapters(adapters, 'Installed');
console.log('Installed wallets:', installed.map(a => a.name));

// Get loadable wallets (can be loaded on demand)
const loadable = getWalletAdapters(adapters, 'Loadable');
console.log('Loadable wallets:', loadable.map(a => a.name));

// Get not detected wallets
const notDetected = getWalletAdapters(adapters, 'NotDetected');
console.log('Not detected wallets:', notDetected.map(a => a.name));

// Get all ready wallets (Installed + Loadable)
const ready = [
  ...getWalletAdapters(adapters, 'Installed'),
  ...getWalletAdapters(adapters, 'Loadable')
];
```

## Complete Example

Here's a complete vanilla JavaScript example:

```html index.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solana Wallet Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
    }
    .wallet-option {
      display: block;
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      border: 2px solid #ddd;
      background: white;
      cursor: pointer;
      border-radius: 8px;
      font-size: 16px;
    }
    .wallet-option.installed {
      border-color: #14F195;
      background: #f0fdf4;
    }
    .wallet-info {
      background: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
    }
    .badge {
      display: inline-block;
      margin-left: 10px;
      font-size: 12px;
      color: #14F195;
    }
  </style>
</head>
<body>
  <h1>Solana Wallet Integration</h1>
  <div id="wallet-selector"></div>
  <div id="wallet-info" style="display: none;" class="wallet-info">
    <h3>Connected Wallet</h3>
    <p><strong>Name:</strong> <span id="wallet-name"></span></p>
    <p><strong>Address:</strong> <span id="wallet-address"></span></p>
    <button id="disconnect-btn">Disconnect</button>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
```

```javascript app.js
import {
  WalletAdapterManager,
  getStandardWalletAdapters,
  sortWalletAdapters,
} from '@hermis/solana-headless-adapter-base';

import { WalletAdapterNetwork, createConnection } from '@hermis/solana-headless-core';

import { PhantomWalletAdapter } from '@solana/wallet-adapter-phantom';
import { SolflareWalletAdapter } from '@solana/wallet-adapter-solflare';
import { BackpackWalletAdapter } from '@solana/wallet-adapter-backpack';

class WalletApp {
  constructor() {
    this.manager = null;
    this.connection = null;
    this.init();
  }

  init() {
    // Create connection
    this.connection = createConnection(WalletAdapterNetwork.Devnet);

    // Setup wallet adapters
    const wallets = [
      new PhantomWalletAdapter(),
      new SolflareWalletAdapter(),
      new BackpackWalletAdapter(),
    ];

    const adapters = getStandardWalletAdapters(wallets);
    const sorted = sortWalletAdapters(adapters);

    // Create wallet manager
    this.manager = new WalletAdapterManager(adapters);

    // Setup event listeners
    this.setupEventListeners();

    // Render wallet options
    this.renderWalletOptions(sorted);
  }

  setupEventListeners() {
    this.manager.on('connect', (publicKey) => {
      console.log('Connected:', publicKey.toBase58());
      this.showWalletInfo(publicKey.toBase58());
    });

    this.manager.on('disconnect', () => {
      console.log('Disconnected');
      this.hideWalletInfo();
    });

    this.manager.on('error', (error) => {
      console.error('Error:', error);
      alert(`Wallet error: ${error.message}`);
    });

    // Disconnect button
    document.getElementById('disconnect-btn').onclick = () => {
      this.manager.disconnect();
    };
  }

  renderWalletOptions(adapters) {
    const container = document.getElementById('wallet-selector');

    adapters.forEach(adapter => {
      const button = document.createElement('button');
      button.className = 'wallet-option';
      button.textContent = adapter.name;

      if (adapter.readyState === 'Installed') {
        button.classList.add('installed');
        const badge = document.createElement('span');
        badge.textContent = '✓ Installed';
        badge.className = 'badge';
        button.appendChild(badge);
      }

      button.onclick = async () => {
        this.manager.selectAdapter(adapter.name);
        try {
          await this.manager.connect();
        } catch (error) {
          console.error('Connection failed:', error);
        }
      };

      container.appendChild(button);
    });
  }

  showWalletInfo(address) {
    const walletInfo = document.getElementById('wallet-info');
    const walletName = document.getElementById('wallet-name');
    const walletAddress = document.getElementById('wallet-address');

    walletName.textContent = this.manager.wallet?.adapter.name || 'Unknown';
    walletAddress.textContent = address;
    walletInfo.style.display = 'block';

    // Hide selector
    document.getElementById('wallet-selector').style.display = 'none';
  }

  hideWalletInfo() {
    document.getElementById('wallet-info').style.display = 'none';
    document.getElementById('wallet-selector').style.display = 'block';
  }
}

// Initialize the app
const app = new WalletApp();
```

## API Reference

### WalletAdapterManager

<ResponseField name="constructor" type="function">
  Creates a new wallet adapter manager
  ```javascript
  new WalletAdapterManager(adapters: Adapter[])
  ```
</ResponseField>

<ResponseField name="selectAdapter" type="function">
  Selects a wallet adapter by name
  ```javascript
  selectAdapter(walletName: string): void
  ```
</ResponseField>

<ResponseField name="connect" type="function">
  Connects to the selected wallet
  ```javascript
  connect(): Promise<Adapter | null>
  ```
</ResponseField>

<ResponseField name="disconnect" type="function">
  Disconnects from the current wallet
  ```javascript
  disconnect(): Promise<void>
  ```
</ResponseField>

<ResponseField name="on" type="function">
  Subscribe to wallet events
  ```javascript
  on(event: string, callback: Function): void
  // Events: 'connect', 'disconnect', 'error', 'walletChanged'
  ```
</ResponseField>

### Utility Functions

<ResponseField name="getStandardWalletAdapters" type="function">
  Gets all standard wallet adapters including custom ones
  ```javascript
  getStandardWalletAdapters(customAdapters?: Adapter[]): Adapter[]
  ```
</ResponseField>

<ResponseField name="sortWalletAdapters" type="function">
  Sorts adapters by priority (installed first)
  ```javascript
  sortWalletAdapters(adapters: Adapter[]): Adapter[]
  ```
</ResponseField>

<ResponseField name="getWalletAdapters" type="function">
  Filters adapters by ready state
  ```javascript
  getWalletAdapters(
    adapters: Adapter[],
    readyState: 'Installed' | 'Loadable' | 'NotDetected' | 'Unsupported'
  ): Adapter[]
  ```
</ResponseField>

## Best Practices

<AccordionGroup>
  <Accordion title="Event-Driven Updates">
    Use events to update your UI reactively:
    ```javascript
    manager.on('connect', (publicKey) => {
      updateUI({ connected: true, address: publicKey.toBase58() });
    });
    ```
  </Accordion>

  <Accordion title="Error Handling">
    Always handle connection errors gracefully:
    ```javascript
    try {
      await manager.connect();
    } catch (error) {
      if (error.code === 4001) {
        console.log('User rejected connection');
      } else {
        console.error('Connection failed:', error);
      }
    }
    ```
  </Accordion>

  <Accordion title="Wallet Detection">
    Prioritize installed wallets in your UI:
    ```javascript
    const sorted = sortWalletAdapters(adapters);
    // Installed wallets appear first
    ```
  </Accordion>

  <Accordion title="Cleanup">
    Clean up event listeners when done:
    ```javascript
    manager.removeListener('connect', handleConnect);
    // or disconnect when component unmounts
    await manager.disconnect();
    ```
  </Accordion>
</AccordionGroup>

## What's Next?

<CardGroup cols={2}>
  <Card
    title="Core Package"
    icon="box"
    href="/quickstart/core"
  >
    Learn about core wallet functionality
  </Card>
  <Card
    title="API Reference"
    icon="code"
    href="/api-reference/adapter-base/overview"
  >
    Explore the adapter API
  </Card>
  <Card
    title="Cookbook"
    icon="book-open"
    href="/cookbook/connect-wallet"
  >
    See practical wallet patterns
  </Card>
  <Card
    title="Examples"
    icon="flask"
    href="/examples/vanilla-js"
  >
    View complete examples
  </Card>
</CardGroup>
